{"version":3,"sources":["utils/dict.js","data/data.js","components/BicycleCard.js","panels/Catalog.js","panels/Filters.js","panels/Bicycle.js","containers/CatalogContainer.js","components/BasketItem.js","components/BasketSumAndPay.js","panels/Basket.js","components/ModalPay.js","utils/env.js","containers/BasketContainer.js","MainScreen.js","App.js","config/index.js","index.js"],"names":["lang","pink","red","black","mountain","road","getLang","key","bicycles","brand","category","gender","id","name","color","price","pic","gallery","description","getBicycleById","bikes","filter","item","availableColors","map","value","i","array","indexOf","availableTypes","BicycleCard","_ref","onItemSelect","addToBasket","isInBasket","react_default","a","createElement","es6","className","onClick","src","alt","concat","before","market_default","fill","market_outline_default","size","level","Catalog","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","onChange","search","setState","state","_this2","_this$props","colors","types","onChangeColor","onChangeType","left","goFilters","filter_default","noShadow","length","title","style","backgroundColor","clear_default","type","min","max","bike","src_components_BicycleCard","assign","toLowerCase","_this$props2","filteredBicycles","toConsumableArray","_ref2","priceValue","parseInt","_ref3","React","Component","osname","platform","Filters","_getMaxAndMinPrice","prices","sort","b","getMaxAndMinPrice","goCatalog","IOS","chevron_back_default","back_default","top","defaultChecked","step","defaultValue","onChangePrice","Bicycle","goSearch","isAlreadyInBasket","slideWidth","bullets","live_default","graffiti_default","transform","vertical","CatalogContainer","activePanel","prevState","index","splice","push","e","objectSpread","bikeId","_this$state","Catalog_Catalog","Filters_Filters","Bicycle_Bicycle","BikeTotal","count","BasketItem","photo","asideContent","BasketItem_BikeTotal","BasketSumAndPay","total","isDisabled","onPay","bottomContent","disabled","Basket","popout","items","fetchedUser","personalCard","showAddressBtn","getPersonalAddress","activeModal","setPaymentModal","modal","address","email","components_BasketItem","components_BasketSumAndPay","reduce","ModalPay","onClose","paymentRequest","icon","money_transfer_outline_default","caption","actions","action","androidBridge","window","AndroidBridge","iosBridge","webkit","messageHandlers","isWeb","BasketContainer","setActiveModal","basket","keys","bicycle","src_panels_Basket","components_ModalPay","console","log","MainView","undefined","Boolean","onStoryChange","story","currentTarget","dataset","activeStory","token","tabbar","selected","data-story","text","favorite_default","label","_56_market_outline_default","containers_BasketContainer","CatalogContainer_CatalogContainer","App","connect","send","then","data","catch","setTimeout","app_id","scope","access_token","tokenError","MainScreen","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.0f899afc.chunk.js","sourcesContent":["const lang = {\n    'pink': 'Розовый',\n    'red': 'Красный',\n    'black': 'Чёрный',\n    'mountain': 'Горный',\n    'road': 'Шоссейный'\n};\n\nexport const getLang = (key) => {\n    return lang[key] ? lang[key] : key\n};\n","export const bicycles = [\n    {\n        brand: 'Specialized',\n        category: 'mountain',\n        gender: 'woman',\n        id: 154339,\n        name: 'Rockhopper Womens Comp 29 (2019)',\n        color: 'pink',\n        price: '53490',\n        pic: 'https://citycycle.ru/upload/product_images/154339/efd8cc511d8a1a34f38b9a1460ce2a70_660x440.jpg',\n        gallery: [\n            'https://citycycle.ru/upload/product_images/126632/a508495d6debf4c3e36c980f362202d2_660x440.jpg',\n            'https://citycycle.ru/upload/product_images/126632/d2abdd5c5b021212456ba819ae64b982_660x440.jpg'\n        ],\n        description: 'Шоссейный велосипед Specialized Allez (2018) с легкой алюминиевой рамой E5 Premium, карбоновой вилкой и компонентами Shimano Claris для любительских тренировок и поездок. Конструкция рассчитана на оптимальное движение на подъемах, спусках и скоростных участках.\\n' +\n            '\\n' +\n            'Трансмиссия начального шоссейного уровня Shimano Claris дает надежное переключение и удобную настройку. Покрышки Specialized Espoir Sport с двойным антипрокольным слоем и эргономичное седло Body Geometry Toupe Sport помогают тренироваться без лишней усталости. Карбоновая вилка Fact с конической трубой гасит вибрации от неровностей и обеспечивает острое управление.\\n' +\n            '\\n',\n    },\n    {\n        brand: 'Specialized',\n        category: 'road',\n        id: 126632,\n        name: 'Specialized Allez (2018)',\n        color: 'red',\n        price: '69490',\n        pic: 'https://citycycle.ru/upload/product_images/126632/a508495d6debf4c3e36c980f362202d2_660x440.jpg',\n        gallery: [\n            'https://citycycle.ru/upload/product_images/126632/a508495d6debf4c3e36c980f362202d2_660x440.jpg',\n            'https://citycycle.ru/upload/product_images/126632/d2abdd5c5b021212456ba819ae64b982_660x440.jpg'\n        ],\n        description: 'Шоссейный велосипед Specialized Allez (2018) с легкой алюминиевой рамой E5 Premium, карбоновой вилкой и компонентами Shimano Claris для любительских тренировок и поездок. Конструкция рассчитана на оптимальное движение на подъемах, спусках и скоростных участках.\\n' +\n            '\\n' +\n            'Трансмиссия начального шоссейного уровня Shimano Claris дает надежное переключение и удобную настройку. Покрышки Specialized Espoir Sport с двойным антипрокольным слоем и эргономичное седло Body Geometry Toupe Sport помогают тренироваться без лишней усталости. Карбоновая вилка Fact с конической трубой гасит вибрации от неровностей и обеспечивает острое управление.\\n' +\n            '\\n'\n    },\n    {\n        brand: 'Specialized',\n        category: 'mountain',\n        id: 23423,\n        name: 'Specialized Men\\'s Pitch Sport 650b (2019)',\n        color: 'black',\n        price: '39990',\n        pic: 'https://citycycle.ru/upload/product_images/142808/8b0f32fe373b92624f3c85818d1378ce_660x440.jpg'\n    },\n    {\n        brand: 'Specialized',\n        category: 'mountain',\n        id: 858598,\n        name: 'Specialized CrossTrail – Hydraulic Disc (2019)',\n        color: 'black',\n        price: '59490',\n        pic: 'https://citycycle.ru/upload/product_images/138373/f6b17d1bf9b5de90b959d8efc6c0d6b4_660x440.jpg'\n    },\n    {\n        brand: 'Specialized',\n        category: 'road',\n        id: 91393,\n        name: 'Specialized Crux E5 (2018)',\n        color: 'black',\n        price: '155490',\n        pic: 'https://citycycle.ru/upload/product_images/115110/c544a1b29afe448c8198191fc679241b_660x440.jpg'\n    },\n];\n\nexport const getBicycleById = (id) => {\n    const bikes = bicycles.filter((item) => item.id === id);\n    if (bikes[0]) {\n        return bikes[0];\n    }\n\n    return null;\n}\n\nexport const getMaxAndMinPrice = () => {\n    const prices = bicycles.map((item) => parseInt(item.price, 10)).sort((a, b) => a - b);\n    if (prices.length) {\n        return {\n            min: prices[0],\n            max: prices[prices.length - 1],\n        }\n    }\n\n    return {\n        min: 0,\n        max: 1000000,\n    };\n}\n\nexport const availableColors = bicycles.map((item) => item.color).filter((value, i, array) => array.indexOf(value) === i);\n\nexport const availableTypes = bicycles.map((item) => item.category).filter((value, i, array) => array.indexOf(value) === i)","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Div, Button } from '@vkontakte/vkui';\nimport Icon24MarketOutline from '@vkontakte/icons/dist/24/market_outline';\nimport Icon24Market from '@vkontakte/icons/dist/24/market';\nimport './BicycleCard.css';\n\nconst BicycleCard = ({ id, name, pic, price, onItemSelect, addToBasket, isInBasket }) => (\n\t<Div className='BicycleCard'>\n\t\t<div className='BicycleCard__Photo' onClick={() => onItemSelect(id)}>\n\t\t\t<img src={pic} alt={`Bicycle ${name}`}/>\n\t\t</div>\n\t\t<div className='BicycleCard__Info' onClick={() => onItemSelect(id)}>\n\t\t\t<h3 className='BicycleCard__Name'>{name}</h3>\n\t\t</div>\n\t\t<div className='BicycleCard__Footer'>\n\t\t\t<div className='Price' onClick={() => onItemSelect(id)}>\n\t\t\t\t<h4 className='Price__Value'>{price}₽</h4>\n\t\t\t</div>\n\t\t\t<div className={`BuyBtn ${isInBasket ? 'BuyBtn--InBasket' : ''}`}>\n\t\t\t\t<Button onClick={() => addToBasket(id)} before={isInBasket ? <Icon24Market fill='var(--white)' /> : <Icon24MarketOutline />} size=\"xl\" level=\"secondary\">Купить</Button>\n\t\t\t</div>\n\t\t</div>\n\t</Div>\n);\n\nBicycleCard.propTypes = {\n\tid: PropTypes.number.isRequired,\n\tname: PropTypes.string.isRequired,\n\tpic: PropTypes.string.isRequired,\n\tprice: PropTypes.string.isRequired,\n\tonItemSelect: PropTypes.func.isRequired,\n};\n\nexport default BicycleCard;\n","import React from 'react';\nimport { Div, Group, HeaderButton, List, PanelHeader, Search } from '@vkontakte/vkui';\nimport { getLang } from '../utils/dict';\nimport { bicycles } from '../data/data';\nimport BicycleCard from '../components/BicycleCard';\nimport Icon24Filter from '@vkontakte/icons/dist/24/filter';\nimport Icon16Clear from '@vkontakte/icons/dist/16/clear';\nimport './Catalog.css';\n\nexport default class Catalog extends React.Component {\n\n    constructor (props) {\n        super(props);\n        this.state = {\n            search: ''\n        }\n    }\n\n    onChange = (search) => { this.setState({ search }); }\n\n    get bicycles () {\n        const search = this.state.search.toLowerCase();\n        const { colors, types, price } = this.props;\n        let filteredBicycles = [ ...bicycles ];\n        if (colors && colors.length > 0) {\n            filteredBicycles = filteredBicycles.filter(({ color }) => {\n                return colors.indexOf(color) > -1\n            });\n        }\n        if (types && types.length > 0) {\n            filteredBicycles = filteredBicycles.filter(({ category }) => {\n                return types.indexOf(category) > -1\n            });\n        }\n        if (price) {\n            filteredBicycles = filteredBicycles.filter((bike) => {\n                const priceValue = parseInt(bike.price, 10);\n                return priceValue >= price.min && priceValue <= price.max;\n            });\n        }\n        if (search) {\n            return filteredBicycles.filter(({ name }) => name.toLowerCase().indexOf(search) > -1);\n        }\n        return filteredBicycles;\n    }\n\n    render() {\n        const { colors, types, price, onChangeColor, onChangeType } = this.props;\n        return (\n            <div>\n                <PanelHeader\n                    left={<HeaderButton onClick={this.props.goFilters}><Icon24Filter /></HeaderButton>}\n                    noShadow\n                >\n                    Велосипеды\n                </PanelHeader>\n                <Search value={this.state.search} onChange={this.onChange}/>\n                {colors.length || types.length || price ?\n                    <Group className='FiltersGroup' title='Фильтры'>\n                        {(colors.length > 0 || types.length > 0) && <Div className='FiltersList'>\n                            {colors.map((color, i) => <button className='FiltersList__Item' key={`colorFilter${i}`} style={{ backgroundColor: color }} onClick={() => onChangeColor(color)}><span>{getLang(color)}</span><Icon16Clear fill='rgba(0, 0, 0, 0.25)'/></button>)}\n                            {types.map((type, i) => <button className='FiltersList__Item' key={`typeFilter${i}`} onClick={() => onChangeType(type)}><span>{getLang(type)}</span> <Icon16Clear fill='rgba(0, 0, 0, 0.25)'/></button>)}\n                        </Div>}\n\n                        {price && <Div className='FiltersList FiltersList--Price'>\n                            <p>Цена от <strong>{price.min}₽</strong> до <strong>{price.max}</strong>₽</p>\n                        </Div>}\n                    </Group>\n                    :\n                    null\n                }\n                {this.bicycles.length > 0 &&\n                <List className='BicyclesList'>\n                    {this.bicycles.map(bike => <BicycleCard addToBasket={this.props.addToBasket} onItemSelect={this.props.onItemSelect} isInBasket={this.props.isInBasket(bike.id)} key={bike.id} {...bike} />)}\n                </List>\n                }\n            </div>\n        );\n    }\n}\n","import React from 'react';\nimport {\n    Checkbox,\n    platform,\n    FormLayout,\n    FormLayoutGroup,\n    HeaderButton,\n    RangeSlider,\n    Div,\n    IOS,\n    List,\n    PanelHeader,\n} from '@vkontakte/vkui';\nimport { getLang } from '../utils/dict';\nimport { availableColors, availableTypes, getMaxAndMinPrice } from '../data/data';\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\nimport './Filters.css';\nconst osname = platform();\n\nexport default class Filters extends React.Component {\n\n    render () {\n        const { min, max } = getMaxAndMinPrice();\n        const { price } = this.props;\n        return (\n            <div>\n                <PanelHeader\n                    left={<HeaderButton onClick={this.props.goCatalog}>{osname === IOS ? <Icon28ChevronBack /> : <Icon24Back />}</HeaderButton>}\n                >\n                    Фильтры\n                </PanelHeader>\n                <List>\n                    <FormLayout>\n                        <FormLayoutGroup top='Тип'>\n                            {availableTypes.map((type, i) =>\n                                <Checkbox\n                                    key={`colorCheckBox${i}`}\n                                    onClick={() => this.props.onChangeType(type)}\n                                    defaultChecked={~this.props.types.indexOf(type)}\n                                >\n                                    <span>{getLang(type)}</span>\n                                </Checkbox>)\n                            }\n                        </FormLayoutGroup>\n                        <FormLayoutGroup top='Цвет'>\n                            {availableColors.map((color, i) =>\n                                <Checkbox\n                                    key={`colorCheckBox${i}`}\n                                    onClick={() => this.props.onChangeColor(color)}\n                                    defaultChecked={~this.props.colors.indexOf(color)}\n                                >\n                                    <span style={{color}}>{getLang(color)}</span>\n                                </Checkbox>)\n                            }\n                        </FormLayoutGroup>\n                        <FormLayoutGroup top='Цена'>\n                            <RangeSlider\n                                min={min}\n                                max={max}\n                                step={1}\n                                defaultValue={[price ? price.min : min, price ? price.max : max]}\n                                onChange={this.props.onChangePrice}\n                            />\n                            <Div className='PriceRangeSlider'>\n                                <span className='PriceRangeSlider__Min'>{price ? price.min : min}₽</span>\n                                <span className='PriceRangeSlider__Max'>{price ? price.max : max}₽</span>\n                            </Div>\n                        </FormLayoutGroup>\n                    </FormLayout>\n                </List>\n            </div>\n        );\n    }\n}\n","import React from 'react';\nimport {\n    HeaderButton,\n    platform,\n    PanelHeader,\n    Gallery,\n    Div,\n    FixedLayout,\n    Button,\n    Group,\n    List,\n    Cell,\n    Avatar,\n    IOS,\n} from '@vkontakte/vkui';\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\nimport Icon24MarketOutline from '@vkontakte/icons/dist/24/market_outline';\nimport Icon24Market from '@vkontakte/icons/dist/24/market';\nimport Icon24Live from '@vkontakte/icons/dist/24/live';\nimport Icon32Graffiti from '@vkontakte/icons/dist/32/graffiti';\nimport { getLang } from '../utils/dict';\nimport './BikePage.css';\nconst osname = platform();\n\nexport default class Bicycle extends React.Component {\n    render() {\n        const { id, gallery, name, pic, goSearch, category, price, color, description, addToBasket, isInBasket } = this.props;\n        const isAlreadyInBasket = isInBasket(id);\n        return (\n            <div className='BikePage'>\n                <PanelHeader\n                    left={<HeaderButton onClick={ goSearch }>{osname === IOS ? <Icon28ChevronBack /> : <Icon24Back />}</HeaderButton>}\n                    noShadow\n                >\n                    Велосипеды\n                </PanelHeader>\n                {gallery ?\n                    <Gallery\n                        slideWidth='100%'\n                        bullets=\"dark\"\n                    >\n                        {gallery.map((item, i) => <img key={`BikeGalleryItem${i}`} src={item} alt={name}/>)}\n                    </Gallery>\n                    :\n                    <Div>\n                        <img src={pic} alt={name}/>\n                    </Div>\n                    }\n                <Div>\n                    <h2>{name}</h2>\n                    <h3>{price}₽</h3>\n                    <p>{description}</p>\n                </Div>\n\n                <Group title='Характеристики'>\n                    <List>\n                        <Cell\n                            before={<Avatar style={{ backgroundColor: 'transparent' }} size={28}><Icon24Live fill='var(--accent)' /></Avatar>}\n                            description='Тип'\n                        >\n                            {getLang(category)}\n                        </Cell>\n                        <Cell\n                            before={<Avatar style={{ backgroundColor: color }} size={28}><Icon32Graffiti style={{ transform: 'scale(0.5)' }} fill='var(--white)' /></Avatar>}\n                            description='Цвет'\n                        >\n                            {getLang(color)}\n                        </Cell>\n                    </List>\n                </Group>\n\n                <FixedLayout vertical='bottom'>\n                    <Div className={`FixedBuyBtn ${isAlreadyInBasket ? 'FixedBuyBtn--InBasket' : ''}`}>\n                        <Button onClick={() => addToBasket(id)} before={isAlreadyInBasket ? <Icon24Market fill='var(--white)' /> : <Icon24MarketOutline />} size=\"xl\" level=\"secondary\">Купить</Button>\n                    </Div>\n                </FixedLayout>\n            </div>\n        );\n    }\n}\n","import React from 'react';\nimport {\n    View,\n    Panel\n} from '@vkontakte/vkui';\nimport Catalog from '../panels/Catalog';\nimport Filters from '../panels/Filters';\nimport Bicycle from '../panels/Bicycle';\nimport { getBicycleById } from '../data/data';\nimport '@vkontakte/vkui/dist/vkui.css';\n\nexport default class CatalogContainer extends React.Component {\n\n    constructor (props) {\n        super(props);\n\n        this.state = {\n            activePanel: 'catalog',\n            colors: [],\n            types: [],\n            bikeId: 0,\n        }\n\n    }\n\n    goFilters = () => { this.setState({ activePanel: 'filters' }); }\n    goCatalog = () => { this.setState({ activePanel: 'catalog' }); }\n    onChangeColor = (color) => this.setState((prevState) => {\n        const colors = prevState.colors;\n        const index = colors.indexOf(color);\n        if (~index) {\n            colors.splice(index, 1)\n        } else {\n            colors.push(color);\n        }\n        return {\n            colors\n        }\n    });\n\n    onChangeType = (type) => this.setState((prevState) => {\n        const types = prevState.types;\n        const index = types.indexOf(type);\n        if (~index) {\n            types.splice(index, 1)\n        } else {\n            types.push(type);\n        }\n        return {\n            types\n        }\n    });\n\n    onChangePrice = (e) => this.setState((prevState) => {\n        return {\n            ...prevState,\n            price: {\n                min: e[0],\n                max: e[1],\n            },\n        }\n    });\n\n    onItemSelect = (id) => {\n        this.setState({\n            activePanel: `bicycle${id}`,\n            bikeId: id,\n        });\n    }\n\n    render () {\n        const { bikeId, price } = this.state;\n        return (\n            <View id={this.props.id} activePanel={this.state.activePanel}>\n                <Panel id='catalog'>\n                    <Catalog price={price} addToBasket={this.props.addToBasket} isInBasket={this.props.isInBasket} colors={this.state.colors} types={this.state.types} goFilters={this.goFilters} onItemSelect={this.onItemSelect} onChangeColor={this.onChangeColor} onChangeType={this.onChangeType} />\n                </Panel>\n                <Panel id='filters'>\n                    <Filters price={price} colors={this.state.colors} types={this.state.types} goCatalog={this.goCatalog} onChangeColor={this.onChangeColor} onChangeType={this.onChangeType} onChangePrice={this.onChangePrice} />\n                </Panel>\n                <Panel id={`bicycle${bikeId}`}>\n                    <Bicycle addToBasket={this.props.addToBasket} isInBasket={this.props.isInBasket} colors={this.state.colors} goCatalog={this.goCatalog} onChangeColor={this.onChangeColor} {...getBicycleById(bikeId)} />\n                </Panel>\n            </View>\n        );\n    }\n}","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Avatar, Cell } from '@vkontakte/vkui';\n\nconst BasketItem = ({ bike }) => (\n\t<Cell\n\t\tclassName='BasketBike'\n\t\tphoto={bike.pic}\n\t\tdescription={<span className=\"BasketBike__Price\">{bike.price}₽</span>}\n\t\tbefore={<Avatar src={bike.pic} size={80}/>}\n\t\tasideContent={<BikeTotal count={bike.count} price={parseInt(bike.price, 10)} />}\n\t\tsize=\"l\"\n\t>\n\t\t{bike.name}\n\t</Cell>\n);\n\nconst BikeTotal = ({ count, price }) => (\n\t<div>\n\t\t<span>x {count} — </span>\n\t\t<span className='BasketSum__ItemSum'>\n\t\t\t{count * price}₽\n\t\t</span>\n\t</div>\n);\n\nBasketItem.propTypes = {\n\tbike: PropTypes.object.isRequired,\n};\n\nexport default BasketItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Cell } from '@vkontakte/vkui';\n\nconst BasketSumAndPay = ({ total, isDisabled, onPay }) => (\n\t<Cell\n\t\tclassName='BasketSum'\n\t\tdescription={<span className='BasketSum__Price'>{total}₽</span>}\n\t\tbottomContent={<Button onClick={onPay} disabled={isDisabled} size='xl' level='commerce'>Оплатить</Button>}\n\t\tsize='l'\n\t>\n\t\tИтого:\n\t</Cell>\n);\n\nBasketSumAndPay.propTypes = {\n\ttotal: PropTypes.number.isRequired,\n\tisDisabled: PropTypes.bool.isRequired,\n\tonPay: PropTypes.func.isRequired,\n};\n\nexport default BasketSumAndPay;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n\tPanel,\n\tGroup,\n\tPanelHeader,\n\tView,\n\tList,\n\tAvatar,\n\tCell,\n\tButton,\n\tDiv\n} from '@vkontakte/vkui';\nimport BasketItem from '../components/BasketItem';\nimport BasketSumAndPay from '../components/BasketSumAndPay';\nimport './Basket.css';\n\nconst Basket = ({ id, popout, items, fetchedUser, personalCard, showAddressBtn, getPersonalAddress, activeModal, setPaymentModal }) => (\n\t<View id={id} activePanel={id} popout={popout} modal={activeModal}>\n\t\t<Panel id={id}>\n\t\t\t<PanelHeader>Корзина</PanelHeader>\n\t\t\t<Group title='Товары в корзине'>\n\n\t\t\t\t<List>\n\t\t\t\t\t{fetchedUser && <Cell\n\t\t\t\t\t\tclassName='UserInfo'\n\t\t\t\t\t\tsize='l'\n\t\t\t\t\t\tdescription={personalCard ? personalCard.address['specified_address'] : 'Адрес не указан'}\n\t\t\t\t\t\tasideContent={personalCard ? personalCard.email : 'Почта не указана'}\n\t\t\t\t\t\tbottomContent={showAddressBtn && <Button onClick={getPersonalAddress} level='tertiary'>{personalCard && personalCard.address ? 'Изменить адрес' : 'Добавить адрес'}</Button>}\n\t\t\t\t\t\tbefore={<Avatar src={fetchedUser['photo_100']} />}\n\t\t\t\t\t>\n\t\t\t\t\t\t{fetchedUser['first_name']} {fetchedUser['last_name']}\n\t\t\t\t\t</Cell>}\n\t\t\t\t\t{items.length > 0 ?\n\t\t\t\t\t\titems.map((bike) =>\n\t\t\t\t\t\t\t<BasketItem key={`basketcart${bike.id}`} bike={bike} />)\n\t\t\t\t\t\t:\n\t\t\t\t\t\t<Div>\n\t\t\t\t\t\t\t<h3>Корзина пока пуста</h3>\n\t\t\t\t\t\t</Div>\n\t\t\t\t\t}\n\t\t\t\t\t<BasketSumAndPay onPay={setPaymentModal} isDisabled={!items.length} total={items.map(bike => bike.count * parseInt(bike.price, 10)).reduce((a, b) => a + b, 0)} />\n\t\t\t\t</List>\n\t\t\t</Group>\n\t\t\t{popout}\n\t\t</Panel>\n\t</View>\n);\n\nBasket.propTypes = {\n\tid: PropTypes.string.isRequired,\n\titems: PropTypes.arrayOf(PropTypes.object),\n\tpopout: PropTypes.element,\n\tfetchedUser: PropTypes.object,\n\tshowAddressBtn: PropTypes.bool,\n\tactiveModal: PropTypes.element,\n\tsetPaymentModal: PropTypes.func,\n};\n\nexport default Basket;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { ModalCard, ModalRoot } from '@vkontakte/vkui';\nimport Icon56MoneyTransferOutline from '@vkontakte/icons/dist/56/money_transfer_outline';\n\nconst ModalPay = ({ onClose, paymentRequest, activeModal }) => (\n\t<ModalRoot activeModal={activeModal}>\n\t\t<ModalCard\n\t\t\tid='money-send'\n\t\t\tonClose={onClose}\n\t\t\ticon={<Icon56MoneyTransferOutline />}\n\t\t\ttitle=\"Оплатить заказ\"\n\t\t\tcaption=\"Операция будет совершена через VK Pay\"\n\t\t\tactions={[{\n\t\t\t\ttitle: 'Оплатить',\n\t\t\t\ttype: 'primary',\n\t\t\t\taction: () => paymentRequest() && onClose(),\n\t\t\t}]}\n\t\t/>\n\t</ModalRoot>\n);\n\nModalPay.propTypes = {\n\tonClose: PropTypes.func.isRequired,\n\tpaymentRequest: PropTypes.func.isRequired,\n};\n\nexport default ModalPay;\n","export const isDev = process.env.NODE_ENV !== 'production';\n\nconst androidBridge = window.AndroidBridge;\nconst iosBridge = window.webkit && window.webkit.messageHandlers;\nexport const isWeb = !androidBridge && !iosBridge;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Basket from '../panels/Basket';\nimport ModalPay from '../components/ModalPay';\nimport { getBicycleById } from '../data/data';\nimport { isWeb } from '../utils/env';\n\nclass BasketContainer extends React.Component {\n\n\tconstructor (props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tpopout:  null,\n\t\t\tactiveModal: null,\n\t\t}\n\t}\n\n\tsetActiveModal = (activeModal) => {\n\t\tactiveModal = activeModal || null;\n\t\tthis.setState({\n\t\t\tactiveModal\n\t\t});\n\t}\n\n\tsetPaymentModal = () => this.setActiveModal('money-send');\n\n\trender() {\n\t\tconst { id, addToBasket, basket, fetchedUser, personalCard, getPersonalAddress } = this.props;\n\t\tconst items = Object.keys(basket).map((item) => {\n\t\t\tconst bikeId =parseInt(item, 10)\n\t\t\tlet bicycle = getBicycleById(bikeId);\n\t\t\tbicycle.count = basket[bikeId];\n\t\t\treturn bicycle;\n\t\t});\n\t\treturn <Basket\n\t\t\t\tactiveModal={<ModalPay activeModal={this.state.activeModal} onClose={() => this.setActiveModal()} paymentRequest={() => console.log('Payment request')} />}\n\t\t\t\tsetPaymentModal={this.setPaymentModal}\n\t\t\t\titems={items}\n\t\t\t\taddToBasket={addToBasket}\n\t\t\t\tid={id}\n\t\t\t\tfetchedUser={fetchedUser}\n\t\t\t\tpersonalCard={personalCard}\n\t\t\t\tshowAddressBtn={!isWeb}\n\t\t\t\tgetPersonalAddress={getPersonalAddress} />;\n\t}\n}\n\nBasketContainer.propTypes = {\n\tid: PropTypes.string.isRequired,\n\taddToBasket: PropTypes.func,\n\tbasket: PropTypes.object,\n\tfetchedUser: PropTypes.object,\n};\n\nexport default BasketContainer;\n","import React from 'react';\nimport { Epic, Tabbar, TabbarItem } from '@vkontakte/vkui';\nimport CatalogContainer from './containers/CatalogContainer';\nimport BasketContainer from './containers/BasketContainer';\nimport Icon28Favorite from '@vkontakte/icons/dist/28/favorite';\nimport Icon56MarketOutline from '@vkontakte/icons/dist/56/market_outline';\nimport '@vkontakte/vkui/dist/vkui.css';\n\nclass MainView extends React.Component {\n\tconstructor (props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tactiveStory: 'catalog',\n\t\t\tbasket: {},\n\t\t};\n\t}\n\n\taddToBasket = (id, count) => {\n\t\tthis.setState((prevState) => {\n\t\t\tconst { basket } = prevState;\n\t\t\tif (basket[id]) {\n\t\t\t\tbasket[id] = count !== undefined ? count : basket[id] + 1;\n\t\t\t} else {\n\t\t\t\tbasket[id] = count !== undefined ? count : 1;\n\t\t\t}\n\t\t\treturn {\n\t\t\t\t...prevState,\n\t\t\t\tbasket,\n\t\t\t}\n\t\t})\n\t}\n\n\tisInBasket = (id) => {\n\t\tconst {basket} = this.state;\n\t\treturn Boolean(basket[id]);\n\t}\n\n\tonStoryChange = (e) => {\n\t\tconst story = e.currentTarget.dataset.story;\n\t\tthis.setState({\n\t\t\tactiveStory: story\n\t\t});\n\n\t}\n\n\trender () {\n\t\tconst { fetchedUser, token, personalCard, getPersonalAddress } = this.props;\n\t\tconst { activeStory, basket } = this.state;\n\t\treturn <Epic activeStory={activeStory} tabbar={\n\t\t\t<Tabbar>\n\t\t\t\t<TabbarItem\n\t\t\t\t\tonClick={this.onStoryChange}\n\t\t\t\t\tselected={activeStory === 'catalog'}\n\t\t\t\t\tdata-story='catalog'\n\t\t\t\t\ttext='Каталог'\n\t\t\t\t>\n\t\t\t\t\t<Icon28Favorite />\n\t\t\t\t</TabbarItem>\n\t\t\t\t<TabbarItem\n\t\t\t\t\tonClick={this.onStoryChange}\n\t\t\t\t\tselected={activeStory === 'basket'}\n\t\t\t\t\tdata-story='basket'\n\t\t\t\t\ttext='Корзина'\n\t\t\t\t\tlabel={Object.keys(basket).length ? Object.keys(basket).length : null}\n\t\t\t\t>\n\t\t\t\t\t<Icon56MarketOutline className='Icon--28' />\n\t\t\t\t</TabbarItem>\n\t\t\t</Tabbar>\n\t\t}>\n\t\t\t<BasketContainer id='basket' addToBasket={this.addToBasket} basket={basket} fetchedUser={fetchedUser} personalCard={personalCard} getPersonalAddress={getPersonalAddress} token={token} />\n\t\t\t<CatalogContainer id='catalog' addToBasket={this.addToBasket} isInBasket={this.isInBasket} />\n\t\t\t}\n\t\t</Epic>\n\t}\n}\n\nexport default MainView;\n","import React from 'react';\nimport connect from '@vkontakte/vkui-connect-promise';\nimport { Spinner } from '@vkontakte/vkui';\nimport { APP_ID } from './config'\nimport MainScreen from './MainScreen';\nimport { isWeb, isDev } from './utils/env';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport './main.css';\n\nclass App extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tactivePanel: 'home',\n\t\t\tfetchedUser: null,\n\t\t\tpersonalCard: null,\n\t\t\ttoken: '',\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tconnect.send('VKWebAppGetUserInfo', {})\n\t\t\t.then((e) => {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tconsole.log(e.data);\n\t\t\t\t\tthis.setState({ fetchedUser: e.data });\n\t\t\t\t}, 1000);\n\t\t\t})\n\t\t\t.catch(() => this.setState({ fetchedUser: null }));\n\t\tconnect.send('VKWebAppGetAuthToken', { 'app_id': APP_ID, 'scope': '' })\n\t\t\t.then((e) => {\n\t\t\t\tthis.setState({ token: e.data.access_token });\n\t\t\t})\n\t\t\t.catch(() => this.setState({ tokenError: true }));\n\t}\n\n\tgetPersonalAddress = () => {\n\t\tif (!isWeb) {\n\t\t\tconnect.send('VKWebAppGetPersonalCard', {type: ['phone', 'email', 'address']})\n\t\t\t\t.then((e) => {\n\t\t\t\t\tconsole.log(e.data);\n\t\t\t\t\tthis.setState({ personalCard: e.data })\n\t\t\t\t})\n\t\t\t\t.catch(() => this.setState({ personalCard: null }));\n\t\t}\n\t}\n\n\trender() {\n\t\tconst { fetchedUser, token, personalCard } = this.state;\n\t\tif (isDev || fetchedUser) {\n\t\t\treturn <MainScreen fetchedUser={fetchedUser} personalCard={personalCard} token={token} getPersonalAddress={this.getPersonalAddress} />;\n\t\t} else {\n\t\t\treturn <Spinner />;\n\t\t}\n\t}\n}\n\nexport default App;\n","export const APP_ID = 7318182;\n","import 'core-js/es6/map';\nimport 'core-js/es6/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport connect from '@vkontakte/vkui-connect-promise';\nimport App from './App';\n\n// Init VK App\nconnect.send('VKWebAppInit', {});\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}