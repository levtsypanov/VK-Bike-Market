(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{228:function(e,t,a){e.exports=a(434)},428:function(e,t,a){},429:function(e,t,a){},430:function(e,t,a){},431:function(e,t,a){},432:function(e,t,a){},433:function(e,t,a){},434:function(e,t,a){"use strict";a.r(t);a(229),a(231);var n=a(0),r=a.n(n),c=a(49),l=a.n(c),o=a(68),i=a(27),s=a(28),u=a(30),d=a(29),m=a(31),p=a(5),h=a(91),f=a(181),b={pink:"\u0420\u043e\u0437\u043e\u0432\u044b\u0439",red:"\u041a\u0440\u0430\u0441\u043d\u044b\u0439",black:"\u0427\u0451\u0440\u043d\u044b\u0439",mountain:"\u0413\u043e\u0440\u043d\u044b\u0439",road:"\u0428\u043e\u0441\u0441\u0435\u0439\u043d\u044b\u0439"},g=function(e){return b[e]?b[e]:e},E=[{brand:"Specialized",category:"mountain",gender:"woman",id:154339,name:"Rockhopper Womens Comp 29 (2019)",color:"pink",price:"53490",pic:"https://citycycle.ru/upload/product_images/154339/efd8cc511d8a1a34f38b9a1460ce2a70_660x440.jpg",gallery:["https://citycycle.ru/upload/product_images/126632/a508495d6debf4c3e36c980f362202d2_660x440.jpg","https://citycycle.ru/upload/product_images/126632/d2abdd5c5b021212456ba819ae64b982_660x440.jpg"],description:"\u0428\u043e\u0441\u0441\u0435\u0439\u043d\u044b\u0439 \u0432\u0435\u043b\u043e\u0441\u0438\u043f\u0435\u0434 Specialized Allez (2018) \u0441 \u043b\u0435\u0433\u043a\u043e\u0439 \u0430\u043b\u044e\u043c\u0438\u043d\u0438\u0435\u0432\u043e\u0439 \u0440\u0430\u043c\u043e\u0439 E5 Premium, \u043a\u0430\u0440\u0431\u043e\u043d\u043e\u0432\u043e\u0439 \u0432\u0438\u043b\u043a\u043e\u0439 \u0438 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0430\u043c\u0438 Shimano Claris \u0434\u043b\u044f \u043b\u044e\u0431\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0445 \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043e\u043a \u0438 \u043f\u043e\u0435\u0437\u0434\u043e\u043a. \u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044f \u0440\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u043d\u0430 \u043d\u0430 \u043e\u043f\u0442\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u0434\u0432\u0438\u0436\u0435\u043d\u0438\u0435 \u043d\u0430 \u043f\u043e\u0434\u044a\u0435\u043c\u0430\u0445, \u0441\u043f\u0443\u0441\u043a\u0430\u0445 \u0438 \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u043d\u044b\u0445 \u0443\u0447\u0430\u0441\u0442\u043a\u0430\u0445.\n\n\u0422\u0440\u0430\u043d\u0441\u043c\u0438\u0441\u0441\u0438\u044f \u043d\u0430\u0447\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0448\u043e\u0441\u0441\u0435\u0439\u043d\u043e\u0433\u043e \u0443\u0440\u043e\u0432\u043d\u044f Shimano Claris \u0434\u0430\u0435\u0442 \u043d\u0430\u0434\u0435\u0436\u043d\u043e\u0435 \u043f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0438 \u0443\u0434\u043e\u0431\u043d\u0443\u044e \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0443. \u041f\u043e\u043a\u0440\u044b\u0448\u043a\u0438 Specialized Espoir Sport \u0441 \u0434\u0432\u043e\u0439\u043d\u044b\u043c \u0430\u043d\u0442\u0438\u043f\u0440\u043e\u043a\u043e\u043b\u044c\u043d\u044b\u043c \u0441\u043b\u043e\u0435\u043c \u0438 \u044d\u0440\u0433\u043e\u043d\u043e\u043c\u0438\u0447\u043d\u043e\u0435 \u0441\u0435\u0434\u043b\u043e Body Geometry Toupe Sport \u043f\u043e\u043c\u043e\u0433\u0430\u044e\u0442 \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0431\u0435\u0437 \u043b\u0438\u0448\u043d\u0435\u0439 \u0443\u0441\u0442\u0430\u043b\u043e\u0441\u0442\u0438. \u041a\u0430\u0440\u0431\u043e\u043d\u043e\u0432\u0430\u044f \u0432\u0438\u043b\u043a\u0430 Fact \u0441 \u043a\u043e\u043d\u0438\u0447\u0435\u0441\u043a\u043e\u0439 \u0442\u0440\u0443\u0431\u043e\u0439 \u0433\u0430\u0441\u0438\u0442 \u0432\u0438\u0431\u0440\u0430\u0446\u0438\u0438 \u043e\u0442 \u043d\u0435\u0440\u043e\u0432\u043d\u043e\u0441\u0442\u0435\u0439 \u0438 \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0432\u0430\u0435\u0442 \u043e\u0441\u0442\u0440\u043e\u0435 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435.\n\n"},{brand:"Specialized",category:"road",id:126632,name:"Specialized Allez (2018)",color:"red",price:"69490",pic:"https://citycycle.ru/upload/product_images/126632/a508495d6debf4c3e36c980f362202d2_660x440.jpg",gallery:["https://citycycle.ru/upload/product_images/126632/a508495d6debf4c3e36c980f362202d2_660x440.jpg","https://citycycle.ru/upload/product_images/126632/d2abdd5c5b021212456ba819ae64b982_660x440.jpg"],description:"\u0428\u043e\u0441\u0441\u0435\u0439\u043d\u044b\u0439 \u0432\u0435\u043b\u043e\u0441\u0438\u043f\u0435\u0434 Specialized Allez (2018) \u0441 \u043b\u0435\u0433\u043a\u043e\u0439 \u0430\u043b\u044e\u043c\u0438\u043d\u0438\u0435\u0432\u043e\u0439 \u0440\u0430\u043c\u043e\u0439 E5 Premium, \u043a\u0430\u0440\u0431\u043e\u043d\u043e\u0432\u043e\u0439 \u0432\u0438\u043b\u043a\u043e\u0439 \u0438 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0430\u043c\u0438 Shimano Claris \u0434\u043b\u044f \u043b\u044e\u0431\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0445 \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043e\u043a \u0438 \u043f\u043e\u0435\u0437\u0434\u043e\u043a. \u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044f \u0440\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u043d\u0430 \u043d\u0430 \u043e\u043f\u0442\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u0434\u0432\u0438\u0436\u0435\u043d\u0438\u0435 \u043d\u0430 \u043f\u043e\u0434\u044a\u0435\u043c\u0430\u0445, \u0441\u043f\u0443\u0441\u043a\u0430\u0445 \u0438 \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u043d\u044b\u0445 \u0443\u0447\u0430\u0441\u0442\u043a\u0430\u0445.\n\n\u0422\u0440\u0430\u043d\u0441\u043c\u0438\u0441\u0441\u0438\u044f \u043d\u0430\u0447\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0448\u043e\u0441\u0441\u0435\u0439\u043d\u043e\u0433\u043e \u0443\u0440\u043e\u0432\u043d\u044f Shimano Claris \u0434\u0430\u0435\u0442 \u043d\u0430\u0434\u0435\u0436\u043d\u043e\u0435 \u043f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0438 \u0443\u0434\u043e\u0431\u043d\u0443\u044e \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0443. \u041f\u043e\u043a\u0440\u044b\u0448\u043a\u0438 Specialized Espoir Sport \u0441 \u0434\u0432\u043e\u0439\u043d\u044b\u043c \u0430\u043d\u0442\u0438\u043f\u0440\u043e\u043a\u043e\u043b\u044c\u043d\u044b\u043c \u0441\u043b\u043e\u0435\u043c \u0438 \u044d\u0440\u0433\u043e\u043d\u043e\u043c\u0438\u0447\u043d\u043e\u0435 \u0441\u0435\u0434\u043b\u043e Body Geometry Toupe Sport \u043f\u043e\u043c\u043e\u0433\u0430\u044e\u0442 \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0431\u0435\u0437 \u043b\u0438\u0448\u043d\u0435\u0439 \u0443\u0441\u0442\u0430\u043b\u043e\u0441\u0442\u0438. \u041a\u0430\u0440\u0431\u043e\u043d\u043e\u0432\u0430\u044f \u0432\u0438\u043b\u043a\u0430 Fact \u0441 \u043a\u043e\u043d\u0438\u0447\u0435\u0441\u043a\u043e\u0439 \u0442\u0440\u0443\u0431\u043e\u0439 \u0433\u0430\u0441\u0438\u0442 \u0432\u0438\u0431\u0440\u0430\u0446\u0438\u0438 \u043e\u0442 \u043d\u0435\u0440\u043e\u0432\u043d\u043e\u0441\u0442\u0435\u0439 \u0438 \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0432\u0430\u0435\u0442 \u043e\u0441\u0442\u0440\u043e\u0435 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435.\n\n"},{brand:"Specialized",category:"mountain",id:23423,name:"Specialized Men's Pitch Sport 650b (2019)",color:"black",price:"39990",pic:"https://citycycle.ru/upload/product_images/142808/8b0f32fe373b92624f3c85818d1378ce_660x440.jpg"},{brand:"Specialized",category:"mountain",id:858598,name:"Specialized CrossTrail \u2013 Hydraulic Disc (2019)",color:"black",price:"59490",pic:"https://citycycle.ru/upload/product_images/138373/f6b17d1bf9b5de90b959d8efc6c0d6b4_660x440.jpg"},{brand:"Specialized",category:"road",id:91393,name:"Specialized Crux E5 (2018)",color:"black",price:"155490",pic:"https://citycycle.ru/upload/product_images/115110/c544a1b29afe448c8198191fc679241b_660x440.jpg"}],y=function(e){var t=E.filter(function(t){return t.id===e});return t[0]?t[0]:null},k=E.map(function(e){return e.color}).filter(function(e,t,a){return a.indexOf(e)===t}),C=E.map(function(e){return e.category}).filter(function(e,t,a){return a.indexOf(e)===t}),v=a(88),B=a.n(v),S=a(89),j=a.n(S),O=(a(428),function(e){var t=e.id,a=e.name,n=e.pic,c=e.price,l=e.onItemSelect,o=e.addToBasket,i=e.isInBasket;return r.a.createElement(p.e,{className:"BicycleCard"},r.a.createElement("div",{className:"BicycleCard__Photo",onClick:function(){return l(t)}},r.a.createElement("img",{src:n,alt:"Bicycle ".concat(a)})),r.a.createElement("div",{className:"BicycleCard__Info",onClick:function(){return l(t)}},r.a.createElement("h3",{className:"BicycleCard__Name"},a)),r.a.createElement("div",{className:"BicycleCard__Footer"},r.a.createElement("div",{className:"Price",onClick:function(){return l(t)}},r.a.createElement("h4",{className:"Price__Value"},c,"\u20bd")),r.a.createElement("div",{className:"BuyBtn ".concat(i?"BuyBtn--InBasket":"")},r.a.createElement(p.b,{onClick:function(){return o(t)},before:i?r.a.createElement(j.a,{fill:"var(--white)"}):r.a.createElement(B.a,null),size:"xl",level:"secondary"},"\u041a\u0443\u043f\u0438\u0442\u044c"))))}),_=a(175),x=a.n(_),P=a(126),I=a.n(P),T=(a(429),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).onChange=function(e){a.setState({search:e})},a.state={search:""},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.colors,n=t.types,c=t.price,l=t.onChangeColor,o=t.onChangeType;return r.a.createElement("div",null,r.a.createElement(p.r,{left:r.a.createElement(p.l,{onClick:this.props.goFilters},r.a.createElement(x.a,null)),noShadow:!0},"\u0412\u0435\u043b\u043e\u0441\u0438\u043f\u0435\u0434\u044b"),r.a.createElement(p.t,{value:this.state.search,onChange:this.onChange}),a.length||n.length||c?r.a.createElement(p.k,{className:"FiltersGroup",title:"\u0424\u0438\u043b\u044c\u0442\u0440\u044b"},(a.length>0||n.length>0)&&r.a.createElement(p.e,{className:"FiltersList"},a.map(function(e,t){return r.a.createElement("button",{className:"FiltersList__Item",key:"colorFilter".concat(t),style:{backgroundColor:e},onClick:function(){return l(e)}},r.a.createElement("span",null,g(e)),r.a.createElement(I.a,{fill:"rgba(0, 0, 0, 0.25)"}))}),n.map(function(e,t){return r.a.createElement("button",{className:"FiltersList__Item",key:"typeFilter".concat(t),onClick:function(){return o(e)}},r.a.createElement("span",null,g(e))," ",r.a.createElement(I.a,{fill:"rgba(0, 0, 0, 0.25)"}))})),c&&r.a.createElement(p.e,{className:"FiltersList FiltersList--Price"},r.a.createElement("p",null,"\u0426\u0435\u043d\u0430 \u043e\u0442 ",r.a.createElement("strong",null,c.min,"\u20bd")," \u0434\u043e ",r.a.createElement("strong",null,c.max),"\u20bd"))):null,this.bicycles.length>0&&r.a.createElement(p.n,{className:"BicyclesList"},this.bicycles.map(function(t){return r.a.createElement(O,Object.assign({addToBasket:e.props.addToBasket,onItemSelect:e.props.onItemSelect,isInBasket:e.props.isInBasket(t.id),key:t.id},t))})))}},{key:"bicycles",get:function(){var e=this.state.search.toLowerCase(),t=this.props,a=t.colors,n=t.types,r=t.price,c=Object(f.a)(E);return a&&a.length>0&&(c=c.filter(function(e){var t=e.color;return a.indexOf(t)>-1})),n&&n.length>0&&(c=c.filter(function(e){var t=e.category;return n.indexOf(t)>-1})),r&&(c=c.filter(function(e){var t=parseInt(e.price,10);return t>=r.min&&t<=r.max})),e?c.filter(function(t){return t.name.toLowerCase().indexOf(e)>-1}):c}}]),t}(r.a.Component)),N=a(90),w=a.n(N),z=a(67),A=a.n(z),M=(a(430),Object(p.y)()),F=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=function(){var e=E.map(function(e){return parseInt(e.price,10)}).sort(function(e,t){return e-t});return e.length?{min:e[0],max:e[e.length-1]}:{min:0,max:1e6}}(),a=t.min,n=t.max,c=this.props.price;return r.a.createElement("div",null,r.a.createElement(p.r,{left:r.a.createElement(p.l,{onClick:this.props.goCatalog},M===p.m?r.a.createElement(w.a,null):r.a.createElement(A.a,null))},"\u0424\u0438\u043b\u044c\u0442\u0440\u044b"),r.a.createElement(p.n,null,r.a.createElement(p.h,null,r.a.createElement(p.i,{top:"\u0422\u0438\u043f"},C.map(function(t,a){return r.a.createElement(p.d,{key:"colorCheckBox".concat(a),onClick:function(){return e.props.onChangeType(t)},defaultChecked:~e.props.types.indexOf(t)},r.a.createElement("span",null,g(t)))})),r.a.createElement(p.i,{top:"\u0426\u0432\u0435\u0442"},k.map(function(t,a){return r.a.createElement(p.d,{key:"colorCheckBox".concat(a),onClick:function(){return e.props.onChangeColor(t)},defaultChecked:~e.props.colors.indexOf(t)},r.a.createElement("span",{style:{color:t}},g(t)))})),r.a.createElement(p.i,{top:"\u0426\u0435\u043d\u0430"},r.a.createElement(p.s,{min:a,max:n,step:1,defaultValue:[c?c.min:a,c?c.max:n],onChange:this.props.onChangePrice}),r.a.createElement(p.e,{className:"PriceRangeSlider"},r.a.createElement("span",{className:"PriceRangeSlider__Min"},c?c.min:a,"\u20bd"),r.a.createElement("span",{className:"PriceRangeSlider__Max"},c?c.max:n,"\u20bd"))))))}}]),t}(r.a.Component),U=a(176),L=a.n(U),q=a(177),G=a.n(q),V=(a(431),Object(p.y)()),R=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.id,a=e.gallery,n=e.name,c=e.pic,l=e.goSearch,o=e.category,i=e.price,s=e.color,u=e.description,d=e.addToBasket,m=(0,e.isInBasket)(t);return r.a.createElement("div",{className:"BikePage"},r.a.createElement(p.r,{left:r.a.createElement(p.l,{onClick:l},V===p.m?r.a.createElement(w.a,null):r.a.createElement(A.a,null)),noShadow:!0},"\u0412\u0435\u043b\u043e\u0441\u0438\u043f\u0435\u0434\u044b"),a?r.a.createElement(p.j,{slideWidth:"100%",bullets:"dark"},a.map(function(e,t){return r.a.createElement("img",{key:"BikeGalleryItem".concat(t),src:e,alt:n})})):r.a.createElement(p.e,null,r.a.createElement("img",{src:c,alt:n})),r.a.createElement(p.e,null,r.a.createElement("h2",null,n),r.a.createElement("h3",null,i,"\u20bd"),r.a.createElement("p",null,u)),r.a.createElement(p.k,{title:"\u0425\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438"},r.a.createElement(p.n,null,r.a.createElement(p.c,{before:r.a.createElement(p.a,{style:{backgroundColor:"transparent"},size:28},r.a.createElement(L.a,{fill:"var(--accent)"})),description:"\u0422\u0438\u043f"},g(o)),r.a.createElement(p.c,{before:r.a.createElement(p.a,{style:{backgroundColor:s},size:28},r.a.createElement(G.a,{style:{transform:"scale(0.5)"},fill:"var(--white)"})),description:"\u0426\u0432\u0435\u0442"},g(s)))),r.a.createElement(p.g,{vertical:"bottom"},r.a.createElement(p.e,{className:"FixedBuyBtn ".concat(m?"FixedBuyBtn--InBasket":"")},r.a.createElement(p.b,{onClick:function(){return d(t)},before:m?r.a.createElement(j.a,{fill:"var(--white)"}):r.a.createElement(B.a,null),size:"xl",level:"secondary"},"\u041a\u0443\u043f\u0438\u0442\u044c"))))}}]),t}(r.a.Component),W=(a(124),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).goFilters=function(){a.setState({activePanel:"filters"})},a.goCatalog=function(){a.setState({activePanel:"catalog"})},a.onChangeColor=function(e){return a.setState(function(t){var a=t.colors,n=a.indexOf(e);return~n?a.splice(n,1):a.push(e),{colors:a}})},a.onChangeType=function(e){return a.setState(function(t){var a=t.types,n=a.indexOf(e);return~n?a.splice(n,1):a.push(e),{types:a}})},a.onChangePrice=function(e){return a.setState(function(t){return Object(h.a)({},t,{price:{min:e[0],max:e[1]}})})},a.onItemSelect=function(e){a.setState({activePanel:"bicycle".concat(e),bikeId:e})},a.state={activePanel:"catalog",colors:[],types:[],bikeId:0},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.bikeId,a=e.price;return r.a.createElement(p.x,{id:this.props.id,activePanel:this.state.activePanel},r.a.createElement(p.q,{id:"catalog"},r.a.createElement(T,{price:a,addToBasket:this.props.addToBasket,isInBasket:this.props.isInBasket,colors:this.state.colors,types:this.state.types,goFilters:this.goFilters,onItemSelect:this.onItemSelect,onChangeColor:this.onChangeColor,onChangeType:this.onChangeType})),r.a.createElement(p.q,{id:"filters"},r.a.createElement(F,{price:a,colors:this.state.colors,types:this.state.types,goCatalog:this.goCatalog,onChangeColor:this.onChangeColor,onChangeType:this.onChangeType,onChangePrice:this.onChangePrice})),r.a.createElement(p.q,{id:"bicycle".concat(t)},r.a.createElement(R,Object.assign({addToBasket:this.props.addToBasket,isInBasket:this.props.isInBasket,colors:this.state.colors,goCatalog:this.goCatalog,onChangeColor:this.onChangeColor},y(t)))))}}]),t}(r.a.Component)),K=function(e){var t=e.count,a=e.price;return r.a.createElement("div",null,r.a.createElement("span",null,"x ",t," \u2014 "),r.a.createElement("span",{className:"BasketSum__ItemSum"},t*a,"\u20bd"))},D=function(e){var t=e.bike;return r.a.createElement(p.c,{className:"BasketBike",photo:t.pic,description:r.a.createElement("span",{className:"BasketBike__Price"},t.price,"\u20bd"),before:r.a.createElement(p.a,{src:t.pic,size:80}),asideContent:r.a.createElement(K,{count:t.count,price:parseInt(t.price,10)}),size:"l"},t.name)},H=function(e){var t=e.total,a=e.isDisabled,n=e.onPay;return r.a.createElement(p.c,{className:"BasketSum",description:r.a.createElement("span",{className:"BasketSum__Price"},t,"\u20bd"),bottomContent:r.a.createElement(p.b,{onClick:n,disabled:a,size:"xl",level:"commerce"},"\u041e\u043f\u043b\u0430\u0442\u0438\u0442\u044c"),size:"l"},"\u0418\u0442\u043e\u0433\u043e:")},J=(a(432),function(e){var t=e.id,a=e.popout,n=e.items,c=e.fetchedUser,l=e.personalCard,o=e.showAddressBtn,i=e.getPersonalAddress,s=e.activeModal,u=e.setPaymentModal;return r.a.createElement(p.x,{id:t,activePanel:t,popout:a,modal:s},r.a.createElement(p.q,{id:t},r.a.createElement(p.r,null,"\u041a\u043e\u0440\u0437\u0438\u043d\u0430"),r.a.createElement(p.k,{title:"\u0422\u043e\u0432\u0430\u0440\u044b \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0435"},r.a.createElement(p.n,null,c&&r.a.createElement(p.c,{className:"UserInfo",size:"l",description:l?l.address.specified_address:"\u0410\u0434\u0440\u0435\u0441 \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d",asideContent:l?l.email:"\u041f\u043e\u0447\u0442\u0430 \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u0430",bottomContent:o&&r.a.createElement(p.b,{onClick:i,level:"tertiary"},l&&l.address?"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0430\u0434\u0440\u0435\u0441":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0430\u0434\u0440\u0435\u0441"),before:r.a.createElement(p.a,{src:c.photo_100})},c.first_name," ",c.last_name),n.length>0?n.map(function(e){return r.a.createElement(D,{key:"basketcart".concat(e.id),bike:e})}):r.a.createElement(p.e,null,r.a.createElement("h3",null,"\u041a\u043e\u0440\u0437\u0438\u043d\u0430 \u043f\u043e\u043a\u0430 \u043f\u0443\u0441\u0442\u0430")),r.a.createElement(H,{onPay:u,isDisabled:!n.length,total:n.map(function(e){return e.count*parseInt(e.price,10)}).reduce(function(e,t){return e+t},0)}))),a))}),Q=a(178),X=a.n(Q),Y=function(e){var t=e.onClose,a=e.paymentRequest,n=e.activeModal;return r.a.createElement(p.p,{activeModal:n},r.a.createElement(p.o,{id:"money-send",onClose:t,icon:r.a.createElement(X.a,null),title:"\u041e\u043f\u043b\u0430\u0442\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437",caption:"\u041e\u043f\u0435\u0440\u0430\u0446\u0438\u044f \u0431\u0443\u0434\u0435\u0442 \u0441\u043e\u0432\u0435\u0440\u0448\u0435\u043d\u0430 \u0447\u0435\u0440\u0435\u0437 VK Pay",actions:[{title:"\u041e\u043f\u043b\u0430\u0442\u0438\u0442\u044c",type:"primary",action:function(){return a()&&t()}}]}))},Z=window.AndroidBridge,$=window.webkit&&window.webkit.messageHandlers,ee=!Z&&!$,te=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).setActiveModal=function(e){e=e||null,a.setState({activeModal:e})},a.setPaymentModal=function(){return a.setActiveModal("money-send")},a.state={popout:null,activeModal:null},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.id,n=t.addToBasket,c=t.basket,l=t.fetchedUser,o=t.personalCard,i=t.getPersonalAddress,s=Object.keys(c).map(function(e){var t=parseInt(e,10),a=y(t);return a.count=c[t],a});return r.a.createElement(J,{activeModal:r.a.createElement(Y,{activeModal:this.state.activeModal,onClose:function(){return e.setActiveModal()},paymentRequest:function(){return console.log("Payment request")}}),setPaymentModal:this.setPaymentModal,items:s,addToBasket:n,id:a,fetchedUser:l,personalCard:o,showAddressBtn:!ee,getPersonalAddress:i})}}]),t}(r.a.Component),ae=a(179),ne=a.n(ae),re=a(180),ce=a.n(re),le=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).addToBasket=function(e,t){a.setState(function(a){var n=a.basket;return n[e]?n[e]=void 0!==t?t:n[e]+1:n[e]=void 0!==t?t:1,Object(h.a)({},a,{basket:n})})},a.isInBasket=function(e){var t=a.state.basket;return Boolean(t[e])},a.onStoryChange=function(e){var t=e.currentTarget.dataset.story;a.setState({activeStory:t})},a.state={activeStory:"catalog",basket:{}},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.fetchedUser,a=e.token,n=e.personalCard,c=e.getPersonalAddress,l=this.state,o=l.activeStory,i=l.basket;return r.a.createElement(p.f,{activeStory:o,tabbar:r.a.createElement(p.v,null,r.a.createElement(p.w,{onClick:this.onStoryChange,selected:"catalog"===o,"data-story":"catalog",text:"\u041a\u0430\u0442\u0430\u043b\u043e\u0433"},r.a.createElement(ne.a,null)),r.a.createElement(p.w,{onClick:this.onStoryChange,selected:"basket"===o,"data-story":"basket",text:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430",label:Object.keys(i).length?Object.keys(i).length:null},r.a.createElement(ce.a,{className:"Icon--28"})))},r.a.createElement(te,{id:"basket",addToBasket:this.addToBasket,basket:i,fetchedUser:t,personalCard:n,getPersonalAddress:c,token:a}),r.a.createElement(W,{id:"catalog",addToBasket:this.addToBasket,isInBasket:this.isInBasket}),"}")}}]),t}(r.a.Component),oe=(a(433),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).getPersonalAddress=function(){ee||o.a.send("VKWebAppGetPersonalCard",{type:["phone","email","address"]}).then(function(e){console.log(e.data),a.setState({personalCard:e.data})}).catch(function(){return a.setState({personalCard:null})})},a.state={activePanel:"home",fetchedUser:null,personalCard:null,token:""},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;o.a.send("VKWebAppGetUserInfo",{}).then(function(t){setTimeout(function(){console.log(t.data),e.setState({fetchedUser:t.data})},1e3)}).catch(function(){return e.setState({fetchedUser:null})}),o.a.send("VKWebAppGetAuthToken",{app_id:7318182,scope:""}).then(function(t){e.setState({token:t.data.access_token})}).catch(function(){return e.setState({tokenError:!0})})}},{key:"render",value:function(){var e=this.state,t=e.fetchedUser,a=e.token,n=e.personalCard;return t?r.a.createElement(le,{fetchedUser:t,personalCard:n,token:a,getPersonalAddress:this.getPersonalAddress}):r.a.createElement(p.u,null)}}]),t}(r.a.Component));o.a.send("VKWebAppInit",{}),l.a.render(r.a.createElement(oe,null),document.getElementById("root"))}},[[228,1,2]]]);
//# sourceMappingURL=main.0f899afc.chunk.js.map